# EÄŸitim Paint UygulamasÄ± - Sphinx Makefile
# Bu dosya, Sphinx dokÃ¼mantasyon oluÅŸturma iÃ§in kullanÄ±lÄ±r

# Minimal makefile for Sphinx documentation

# You can set these variables from the command line, and also
# from the environment for the first two.
SPHINXOPTS    ?=
SPHINXBUILD   ?= sphinx-build
SOURCEDIR     = .
BUILDDIR      = _build

# Put it first so that "make" without argument is like "make help".
help:
	@$(SPHINXBUILD) -M help "$(SOURCEDIR)" "$(BUILDDIR)" $(SPHINXOPTS) $(O)

.PHONY: help Makefile

# Catch-all target: route all unknown targets to Sphinx using the new
# "make mode" option.  $(O) is meant as a shortcut for $(SPHINXOPTS).
%: Makefile
	@$(SPHINXBUILD) -M $@ "$(SOURCEDIR)" "$(BUILDDIR)" $(SPHINXOPTS) $(O)

# Ã–zel hedefler
clean-all:
	rm -rf $(BUILDDIR)
	rm -rf *.log
	rm -rf *.tmp

serve:
	@echo "ğŸŒ DokÃ¼mantasyon sunucusu baÅŸlatÄ±lÄ±yor..."
	@echo "ğŸ“– TarayÄ±cÄ±da http://localhost:8000 adresini aÃ§Ä±n"
	@echo "ğŸ›‘ Durdurmak iÃ§in Ctrl+C tuÅŸlayÄ±n"
	cd $(BUILDDIR)/html && python -m http.server 8000

install-deps:
	@echo "ğŸ“¦ Sphinx baÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼kleniyor..."
	pip install sphinx sphinx-rtd-theme myst-parser

build-quick:
	@echo "ğŸš€ HÄ±zlÄ± dokÃ¼mantasyon oluÅŸturuluyor..."
	$(SPHINXBUILD) -b html "$(SOURCEDIR)" "$(BUILDDIR)/html" $(SPHINXOPTS)

build-full:
	@echo "ğŸ”¨ Tam dokÃ¼mantasyon oluÅŸturuluyor..."
	$(SPHINXBUILD) -b html "$(SOURCEDIR)" "$(BUILDDIR)/html" $(SPHINXOPTS) -W --keep-going

build-pdf:
	@echo "ğŸ“„ PDF dokÃ¼mantasyon oluÅŸturuluyor..."
	$(SPHINXBUILD) -b latex "$(SOURCEDIR)" "$(BUILDDIR)/latex" $(SPHINXOPTS)
	@echo "ğŸ“š PDF oluÅŸturuluyor..."
	cd "$(BUILDDIR)/latex" && make all-pdf

build-epub:
	@echo "ğŸ“± EPUB dokÃ¼mantasyon oluÅŸturuluyor..."
	$(SPHINXBUILD) -b epub "$(SOURCEDIR)" "$(BUILDDIR)/epub" $(SPHINXOPTS)

check:
	@echo "ğŸ” DokÃ¼mantasyon kontrol ediliyor..."
	$(SPHINXBUILD) -b linkcheck "$(SOURCEDIR)" "$(BUILDDIR)/linkcheck" $(SPHINXOPTS)
	$(SPHINXBUILD) -b doctest "$(SOURCEDIR)" "$(BUILDDIR)/doctest" $(SPHINXOPTS)

spelling:
	@echo "ğŸ“ YazÄ±m kontrolÃ¼ yapÄ±lÄ±yor..."
	$(SPHINXBUILD) -b spelling "$(SOURCEDIR)" "$(BUILDDIR)/spelling" $(SPHINXOPTS)

# VarsayÄ±lan hedef
all: clean-all build-full
	@echo "âœ… DokÃ¼mantasyon baÅŸarÄ±yla oluÅŸturuldu!"
	@echo "ğŸ“ Ã‡Ä±ktÄ±: $(BUILDDIR)/html/index.html"

# GeliÅŸtirici hedefleri
dev: install-deps build-quick serve

# Production hedefleri
prod: clean-all build-full check
	@echo "ğŸš€ Production dokÃ¼mantasyon hazÄ±r!"

# YardÄ±m
help-extended:
	@echo "ğŸ¨ EÄŸitim Paint UygulamasÄ± - Sphinx Makefile"
	@echo ""
	@echo "KullanÄ±labilir komutlar:"
	@echo "  help              - Bu yardÄ±m mesajÄ±nÄ± gÃ¶sterir"
	@echo "  html              - HTML dokÃ¼mantasyon oluÅŸturur"
	@echo "  clean             - Build dosyalarÄ±nÄ± temizler"
	@echo "  clean-all         - TÃ¼m dosyalarÄ± temizler"
	@echo "  build-quick       - HÄ±zlÄ± HTML build"
	@echo "  build-full        - Tam HTML build"
	@echo "  build-pdf         - PDF dokÃ¼mantasyon oluÅŸturur"
	@echo "  build-epub        - EPUB dokÃ¼mantasyon oluÅŸturur"
	@echo "  check             - Link ve doctest kontrolÃ¼"
	@echo "  spelling          - YazÄ±m kontrolÃ¼"
	@echo "  serve             - Yerel sunucu baÅŸlatÄ±r"
	@echo "  install-deps      - Sphinx baÄŸÄ±mlÄ±lÄ±klarÄ±nÄ± yÃ¼kler"
	@echo "  dev               - GeliÅŸtirme ortamÄ± hazÄ±rlar"
	@echo "  prod              - Production build"
	@echo "  all               - Tam build ve temizlik"
	@echo ""
	@echo "Ã–rnek kullanÄ±m:"
	@echo "  make html         # HTML dokÃ¼mantasyon oluÅŸtur"
	@echo "  make serve        # Yerel sunucu baÅŸlat"
	@echo "  make dev          # GeliÅŸtirme ortamÄ±"

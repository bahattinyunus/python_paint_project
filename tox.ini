# Eğitim Paint Uygulaması - Tox Konfigürasyonu
# Bu dosya, çoklu Python sürümlerinde test çalıştırma için kullanılır

[tox]
# Tox ortamları
envlist = 
    py36,
    py37,
    py38,
    py39,
    py310,
    py311,
    py312,
    py313,
    lint,
    format,
    security,
    docs

# Test dizini
testpaths = tests

# Python sürümleri
[py36]
deps = 
    -r{toxinidir}/demo1/requirements.txt
    pytest>=6.0.0
    pytest-cov>=3.0.0
    pytest-mock>=3.6.0

[py37]
deps = 
    -r{toxinidir}/demo1/requirements.txt
    pytest>=6.0.0
    pytest-cov>=3.0.0
    pytest-mock>=3.6.0

[py38]
deps = 
    -r{toxinidir}/demo1/requirements.txt
    pytest>=6.0.0
    pytest-cov>=3.0.0
    pytest-mock>=3.6.0

[py39]
deps = 
    -r{toxinidir}/demo1/requirements.txt
    pytest>=6.0.0
    pytest-cov>=3.0.0
    pytest-mock>=3.6.0

[py310]
deps = 
    -r{toxinidir}/demo1/requirements.txt
    pytest>=6.0.0
    pytest-cov>=3.0.0
    pytest-mock>=3.6.0

[py311]
deps = 
    -r{toxinidir}/demo1/requirements.txt
    pytest>=6.0.0
    pytest-cov>=3.0.0
    pytest-mock>=3.6.0

[py312]
deps = 
    -r{toxinidir}/demo1/requirements.txt
    pytest>=6.0.0
    pytest-cov>=3.0.0
    pytest-mock>=3.6.0

[py313]
deps = 
    -r{toxinidir}/demo1/requirements.txt
    pytest>=6.0.0
    pytest-cov>=3.0.0
    pytest-mock>=3.6.0

# Lint kontrolü
[lint]
deps = 
    flake8>=4.0.0
    black>=22.0.0
    isort>=5.0.0
    mypy>=0.950
    pylint>=2.17.0
commands = 
    flake8 demo1/ --max-line-length=88 --extend-ignore=E203,W503
    black --check --line-length=88 demo1/
    isort --check-only --profile=black --line-length=88 demo1/
    mypy demo1/ --ignore-missing-imports
    pylint demo1/ --disable=C0114,C0116,C0115

# Kod formatlama
[format]
deps = 
    black>=22.0.0
    isort>=5.0.0
    autoflake>=2.1.0
commands = 
    black --line-length=88 demo1/
    isort --profile=black --line-length=88 demo1/
    autoflake --in-place --remove-all-unused-imports --remove-unused-variables demo1/

# Güvenlik kontrolü
[security]
deps = 
    bandit>=1.7.0
    safety>=1.10.0
commands = 
    bandit -r demo1/ -f json -o bandit-report.json
    safety check --full-report

# Dokümantasyon
[docs]
deps = 
    sphinx>=4.0.0
    sphinx-rtd-theme>=1.0.0
    myst-parser>=0.17.0
commands = 
    sphinx-build -b html docs docs/_build/html

# Test komutları
[testenv]
commands = 
    pytest {posargs:tests/} -v --cov=demo1 --cov-report=term-missing --cov-report=html
    pytest {posargs:tests/} --cov=demo1 --cov-report=xml

# Test ayarları
[testenv:py{36,37,38,39,310,311,312,313}]
commands = 
    pytest {posargs:tests/} -v --cov=demo1 --cov-report=term-missing

# Coverage ayarları
[coverage:run]
source = demo1
omit = 
    */tests/*
    */test_*
    */__pycache__/*
    */venv/*
    */.venv/*

[coverage:report]
exclude_lines = 
    pragma: no cover
    def __repr__
    if self.debug:
    if settings.DEBUG
    raise AssertionError
    raise NotImplementedError
    if 0:
    if __name__ == .__main__.:
    class .*\bProtocol\):
    @(abc\.)?abstractmethod

# Pytest ayarları
[tool:pytest]
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*
addopts = 
    --strict-markers
    --strict-config
    --verbose
    --tb=short
    --cov=demo1
    --cov-report=term-missing
    --cov-report=html
    --cov-report=xml

# Black ayarları
[tool:black]
line-length = 88
target-version = ['py36', 'py37', 'py38', 'py39', 'py310', 'py311', 'py312', 'py313']
include = '\.pyi?$'
extend-exclude = '''
/(
  # directories
  \.eggs
  | \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | build
  | dist
)/
'''

# Flake8 ayarları
[tool:flake8]
max-line-length = 88
extend-ignore = ["E203", "W503"]
exclude = 
    .git
    __pycache__
    .venv
    build
    dist
    *.egg-info
    .tox

# MyPy ayarları
[tool:mypy]
python_version = 3.6
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
disallow_untyped_decorators = True
no_implicit_optional = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True
strict_equality = True

# Pylint ayarları
[tool:pylint]
max-line-length = 88
disable = 
    C0114,  # missing-module-docstring
    C0116,  # missing-function-docstring
    C0115,  # missing-class-docstring
    C0103,  # invalid-name
    C0301,  # line-too-long
    R0903,  # too-few-public-methods
    R0913,  # too-many-arguments
    R0914,  # too-many-locals
    W0621,  # redefined-outer-name
    W0622,  # redefined-builtin
    W0703,  # broad-except
    W0702,  # bare-except
